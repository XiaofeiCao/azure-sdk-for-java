// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.health.insights.cancerprofiling.generated;

import com.azure.core.credential.AzureKeyCredential;
import com.azure.core.util.Configuration;
import com.azure.core.util.polling.SyncPoller;
import com.azure.health.insights.cancerprofiling.CancerProfilingClient;
import com.azure.health.insights.cancerprofiling.CancerProfilingClientBuilder;
import com.azure.health.insights.cancerprofiling.models.ClinicalDocumentType;
import com.azure.health.insights.cancerprofiling.models.DocumentContent;
import com.azure.health.insights.cancerprofiling.models.DocumentContentSourceType;
import com.azure.health.insights.cancerprofiling.models.DocumentType;
import com.azure.health.insights.cancerprofiling.models.OncoPhenotypeData;
import com.azure.health.insights.cancerprofiling.models.OncoPhenotypeInferenceType;
import com.azure.health.insights.cancerprofiling.models.OncoPhenotypeModelConfiguration;
import com.azure.health.insights.cancerprofiling.models.OncoPhenotypeResult;
import com.azure.health.insights.cancerprofiling.models.PatientDocument;
import com.azure.health.insights.cancerprofiling.models.PatientInfo;
import com.azure.health.insights.cancerprofiling.models.PatientInfoSex;
import com.azure.health.insights.cancerprofiling.models.PatientRecord;
import java.time.LocalDate;
import java.time.OffsetDateTime;
import java.util.Arrays;

public class CreatesAnOncoPhenotypeJobWithTheGivenRequestBody {
    public static void main(String[] args) {
        CancerProfilingClient cancerProfilingClient =
                new CancerProfilingClientBuilder()
                        .credential(new AzureKeyCredential(Configuration.getGlobalConfiguration().get("API_KEY")))
                        .endpoint("{endpoint}")
                        .buildClient();
        // BEGIN:com.azure.health.insights.cancerprofiling.generated.infercancerprofile.createsanoncophenotypejobwiththegivenrequestbody
        SyncPoller<OncoPhenotypeResult, OncoPhenotypeResult> response =
                cancerProfilingClient.beginInferCancerProfile(
                        new OncoPhenotypeData(
                                        Arrays.asList(
                                                new PatientRecord("Patient ID Example 1")
                                                        .setInfo(
                                                                new PatientInfo()
                                                                        .setSex(PatientInfoSex.FEMALE)
                                                                        .setBirthDate(LocalDate.parse("1975-09-27")))
                                                        .setData(
                                                                Arrays.asList(
                                                                        new PatientDocument(
                                                                                        DocumentType.NOTE,
                                                                                        "1",
                                                                                        new DocumentContent(
                                                                                                DocumentContentSourceType
                                                                                                        .INLINE,
                                                                                                "Sample note 1"))
                                                                                .setClinicalType(
                                                                                        ClinicalDocumentType
                                                                                                .HISTORY_AND_PHYSICAL)
                                                                                .setLanguage("en")
                                                                                .setCreatedDateTime(
                                                                                        OffsetDateTime.parse(
                                                                                                "2021-10-26T16:54:44.739Z")),
                                                                        new PatientDocument(
                                                                                        DocumentType.NOTE,
                                                                                        "2",
                                                                                        new DocumentContent(
                                                                                                DocumentContentSourceType
                                                                                                        .INLINE,
                                                                                                "Sample note 2"))
                                                                                .setClinicalType(
                                                                                        ClinicalDocumentType.IMAGING)
                                                                                .setLanguage("en")
                                                                                .setCreatedDateTime(
                                                                                        OffsetDateTime.parse(
                                                                                                "2020-11-26T16:39:44.739Z"))))))
                                .setConfiguration(
                                        new OncoPhenotypeModelConfiguration()
                                                .setVerbose(true)
                                                .setIncludeEvidence(true)
                                                .setInferenceTypes(
                                                        Arrays.asList(
                                                                OncoPhenotypeInferenceType.HISTOLOGY,
                                                                OncoPhenotypeInferenceType.CLINICAL_STAGE_T))
                                                .setCheckForCancerCase(false)));
        // END:com.azure.health.insights.cancerprofiling.generated.infercancerprofile.createsanoncophenotypejobwiththegivenrequestbody
    }
}
